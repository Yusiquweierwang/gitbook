[toc]

UCLASS()
UFUNCTION()

### 蓝图

**蓝图 fenlei**

- 关卡蓝图：当前关卡的全局事件图

- 蓝图类
- 数据蓝图:仅包含代码（以节点图标的形式）、变量和从父类继承的组件的类的蓝图。
  蓝图接口
  蓝图宏库

**蓝图节点**
![1710158841639](image/index/1710158841639.png)

### 解决方案

文件夹-engine
引擎自身的配置文件

games-
项目的配置文件

.build.cs
描述项目每个模块的环境信息
-unrealBUildTool -处理相关依赖 link

UHT
UE 头文件

.generate.h

### 每个头文件含义

#progma once
保护头文件只编译一次。

![1710058422119](image/index/1710058422119.png)

### 界面

![1710059229028](image/index/1710059229028.png)

## 事件

### EventBeginPlay

### SpawnActor fromClass

###

actorBeginOverlap

新事件图表--把事件分类（移动类/ 攻击类）

**函数**

## 变量

**获取和设置变量**
获取：按住 ctrl 拖进来
![1710159380482](image/index/1710159380482.png)

设置：按住 alt 拖进来
![1710159399211](image/index/1710159399211.png)

### 变量类型

**bool**
![1710159528281](image/index/1710159528281.png)

**数值类型**
byte:0-255
interger:
float

**数值类型运算**

以 sum 为例
![1710159862726](image/index/1710159862726.png)

直接加常数
![1710159994945](image/index/1710159994945.png)

**文本类型变量**
![1710160245361](image/index/1710160245361.png)

字符串可拼接
右键-》附加-》工具集-》字符串-》附加
![1710160638755](image/index/1710160638755.png)

**向量**

![1710161050513](image/index/1710161050513.png)
向量相加
![1710161392046](image/index/1710161392046.png)
向量相乘

**旋转体 rotator**

**变换类型 transfrom**
![1710161599150](image/index/1710161599150.png)
location
/
rototian
/
scale

**通过变换操作关卡对象**

![1710161739744](image/index/1710161739744.png)

![1710162389879](image/index/1710162389879.png)

**变量的算术运算**

- / - / \* / "\/" / %

![1710162718582](image/index/1710162718582.png)

**比较预算符**
![1710162968078](image/index/1710162968078.png)

**局部变量**
事件中没有，在指定函数中有

### 获取按键输入

**获取键盘按键输入**
![1710163472365](image/index/1710163472365.png)

鼠标
![1710163489591](image/index/1710163489591.png)

### 分支

![1710163534084](image/index/1710163534084.png)

![1710163661705](image/index/1710163661705.png)

### 序列节点

![1710163691342](image/index/1710163691342.png)

### for 循环节点

![1710163811509](image/index/1710163811509.png)

![1710168713706](image/index/1710168713706.png)

![1710168788222](image/index/1710168788222.png)

### while 节点

![1710168861534](image/index/1710168861534.png)

![1710169428740](image/index/1710169428740.png)

### DO N / Do once 节点

![1710169294333](image/index/1710169294333.png)

![1710169594920](image/index/1710169594920.png)

**DO ONCE**

![1710169611121](image/index/1710169611121.png)

### Flip flop 节点

![1710169647907](image/index/1710169647907.png)

![1710169713090](image/index/1710169713090.png)

按左键单次 A 功能，再按执行 B 功能。

### Gate 节点

![1710169784739](image/index/1710169784739.png)

![1710170087943](image/index/1710170087943.png)

**MultiGate / MultiGate 节点**

![1710170116990](image/index/1710170116990.png)

**multigate 节点**

![1710170116990](image/index/1710170116990.png)

## 数组

![1710170398909](image/index/1710170398909.png)

![1710170612272](image/index/1710170612272.png)

### 数组元素获取

![1710170668166](image/index/1710170668166.png)

**get(复制)**

**get(引用)**

### 查找数组元素 / 获取数组长度 / 获取数组的最后一个下标

![1710170955643](image/index/1710170955643.png)

![1711215061826](image/index/1711215061826.png)

### 数组元素添加 / 移除 / 是否包含

![1710171029800](image/index/1710171029800.png)

**移除数组元素**
![1710171647053](image/index/1710171647053.png)

**是否包含**

### 数组遍历

![1710172719941](image/index/1710172719941.png)

### 修改关卡对象的材质

**千万记住转换为参数！！**
![1711215368900](image/index/1711215368900.png)

![1710212149608](image/index/1710212149608.png)
创建数组遍历关卡对象
![1710212180084](image/index/1710212180084.png)

创建材质和材质实例
![1710213668327](image/index/1710213668327.png)
![1710213574097](image/index/1710213574097.png)

![1710219279917](image/index/1710219279917.png)

## **需要先点保存，再编译，再保存**

## 函数

### 事件和函数

**区别**

- 事件的执行可能涉及多线程，函数是单线程的。

每个事件触发以后，系统开一个线程执行此事件，所以可以使用 Delay。
而函数是单线程的，调用函数后该线程就等待函数的执行直到返回，函数内部无法停止，即函数不能使用 Timeline，Delay。

- 事件没有返回值
- 事件的意义是游戏中发生的事。

**适用**

- 需要町等时用 Event
- 需要返回值用 Function

### 局部变量

## actor / pawn / character --父子关系

面向对象

**Actor 演员 - 车**

可在世界中放置或动态生成的对象。

**Pawn 角色 - 火车**

可以被“控制"的 Actor,且可以接受来自 controller 的输入。

**character 有重力的角色 - 红色快速载客火车**

增加了可四处行走的功能。

![1710061210382](image/index/1710061210382.png)
放大镜直接跳转到内容浏览器资产

**对齐**
查看

![1710061557728](image/index/1710061557728.png)

![1710061542820](image/index/1710061542820.png)

更改 z 轴

骨骼：角色->骨骼->层级

### actor 和 actor 间的嵌套

actor 包括两种 component.

- sceneComponent ，带 transform ，能在场景中渲染，最重要能**嵌套**
- 普通 ActorComponent，不带 transform 在 Actor 中是平级的。

![1711784341744](image/index/1711784341744.png)

**actor 和 actor 间嵌套**
通过`Child:AttachToActor`和`Child:AttachToComponent`创建父子连接。

## 设置启动关卡

## 蓝图类

是一种允许开发者基于现有游戏类添加功能的资源。

创建蓝图类需要父类。

### 创建一个可用于修改材质的蓝图类

![1710226336561](image/index/1710226336561.png)

创建蓝图类，添加静态网格体，将网格体拖进场景
![1710227203483](image/index/1710227203483.png)

定义一个材质数组
![1710227178118](image/index/1710227178118.png)

框选可编辑实例，更改类别为材质。
![1710227428710](image/index/1710227428710.png)

### 创建第一人称蓝图

![1710227535047](image/index/1710227535047.png)

## varest

是一个 api 调用插件，支持访问 http/https 请求，也支持 json 文件读取。

![1711641035654](image/index/1711641035654.png)

## 常用函数

### 获取类的 actor
